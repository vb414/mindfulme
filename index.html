<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MindfulMe Pro - Advanced Mental Health Companion</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- Enhanced Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-brand" onclick="showPage('home')">
                <div class="logo-animation">
                    <i class="fas fa-brain"></i>
                </div>
                <span class="brand-text">MindfulMe <span class="pro-badge">PRO</span></span>
            </div>
            <button class="nav-toggle" onclick="toggleNav()">
                <span></span><span></span><span></span>
            </button>
            <div class="nav-menu" id="navMenu">
                <a href="#" class="nav-link" onclick="showPage('home'); return false;">
                    <i class="fas fa-home"></i> Dashboard
                </a>
                <a href="#" class="nav-link" onclick="showPage('mood'); return false;">
                    <i class="fas fa-smile"></i> Mood
                </a>
                <a href="#" class="nav-link" onclick="showPage('breathe'); return false;">
                    <i class="fas fa-wind"></i> Breathe
                </a>
                <a href="#" class="nav-link" onclick="showPage('journal'); return false;">
                    <i class="fas fa-book"></i> Journal
                </a>
                <a href="#" class="nav-link" onclick="showPage('insights'); return false;">
                    <i class="fas fa-chart-line"></i> Analytics
                </a>
                <a href="#" class="nav-link" onclick="showPage('meditation'); return false;">
                    <i class="fas fa-spa"></i> Meditate
                </a>
                <a href="#" class="nav-link" onclick="showPage('resources'); return false;">
                    <i class="fas fa-heart"></i> Resources
                </a>
                <a href="#" class="nav-link" onclick="showPage('ai-therapist'); return false;">
                    <i class="fas fa-robot"></i> AI Assistant
                </a>
            </div>
            <div class="nav-actions">
                <button class="notification-btn" onclick="toggleNotifications()">
                    <i class="fas fa-bell"></i>
                    <span class="notification-badge" id="notificationCount">3</span>
                </button>
                <div class="user-avatar" onclick="toggleProfile()">
                    <img src="https://ui-avatars.com/api/?name=User&background=6366f1&color=fff" alt="User">
                </div>
            </div>
        </div>
    </nav>

    <!-- Notification Panel -->
    <div class="notification-panel" id="notificationPanel">
        <h3>Notifications</h3>
        <div class="notification-list">
            <div class="notification-item">
                <i class="fas fa-trophy"></i>
                <div>
                    <p>Achievement Unlocked: 7-Day Streak!</p>
                    <span>2 hours ago</span>
                </div>
            </div>
            <div class="notification-item">
                <i class="fas fa-heart"></i>
                <div>
                    <p>Time for your daily mood check-in</p>
                    <span>3 hours ago</span>
                </div>
            </div>
            <div class="notification-item">
                <i class="fas fa-brain"></i>
                <div>
                    <p>New meditation session available</p>
                    <span>Yesterday</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Profile Dropdown -->
    <div class="profile-dropdown" id="profileDropdown">
        <div class="profile-header">
            <img src="https://ui-avatars.com/api/?name=User&background=6366f1&color=fff" alt="User">
            <div>
                <h4>Welcome User</h4>
                <p>user@example.com</p>
            </div>
        </div>
        <div class="profile-menu">
            <a href="#" onclick="showSettings(); return false;">
                <i class="fas fa-cog"></i> Settings
            </a>
            <a href="#" onclick="showPrivacy(); return false;">
                <i class="fas fa-lock"></i> Privacy
            </a>
            <a href="#" onclick="exportAllData(); return false;">
                <i class="fas fa-download"></i> Export Data
            </a>
            <a href="#" onclick="logout(); return false;">
                <i class="fas fa-sign-out-alt"></i> Logout
            </a>
        </div>
    </div>

    <!-- Hero Section / Dashboard -->
    <div class="hero-section page-section" id="home">
        <div class="container">
            <!-- Welcome Section -->
            <div class="welcome-section glassmorphism">
                <h1 class="greeting" id="greeting">Good Morning, <span class="username">Friend</span>!</h1>
                <p class="date-time" id="dateTime"></p>
                <div class="quick-stats">
                    <div class="quick-stat">
                        <i class="fas fa-fire"></i>
                        <span id="currentStreak">0</span> day streak
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-battery-three-quarters"></i>
                        <span id="mentalBattery">75</span>% mental energy
                    </div>
                    <div class="quick-stat">
                        <i class="fas fa-chart-line"></i>
                        <span id="weekTrend">↑ 12%</span> this week
                    </div>
                </div>
            </div>

            <!-- Daily Quote -->
            <div class="daily-quote glassmorphism">
                <i class="fas fa-quote-left"></i>
                <p id="dailyQuote">Every moment is a fresh beginning.</p>
                <cite id="quoteAuthor">— T.S. Eliot</cite>
            </div>

            <!-- Stats Dashboard -->
            <div class="stats-grid">
                <div class="stat-card glassmorphism">
                    <div class="stat-icon-wrapper">
                        <div class="stat-icon-bg"></div>
                        <i class="fas fa-fire stat-icon"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="streakDays">0</div>
                        <div class="stat-label">Day Streak</div>
                        <div class="stat-progress">
                            <div class="progress-bar" style="width: 70%"></div>
                        </div>
                    </div>
                </div>

                <div class="stat-card glassmorphism">
                    <div class="stat-icon-wrapper">
                        <div class="stat-icon-bg"></div>
                        <i class="fas fa-smile stat-icon"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="avgMoodScore">4.2</div>
                        <div class="stat-label">Mood Score</div>
                        <canvas id="miniMoodChart" width="100" height="40"></canvas>
                    </div>
                </div>

                <div class="stat-card glassmorphism">
                    <div class="stat-icon-wrapper">
                        <div class="stat-icon-bg"></div>
                        <i class="fas fa-brain stat-icon"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="mindfulMinutes">0</div>
                        <div class="stat-label">Mindful Minutes</div>
                        <div class="stat-subtext">0 min today</div>
                    </div>
                </div>

                <div class="stat-card glassmorphism">
                    <div class="stat-icon-wrapper">
                        <div class="stat-icon-bg"></div>
                        <i class="fas fa-book stat-icon"></i>
                    </div>
                    <div class="stat-content">
                        <div class="stat-value" id="journalEntries">0</div>
                        <div class="stat-label">Journal Entries</div>
                        <div class="stat-subtext">0 this week</div>
                    </div>
                </div>
            </div>

            <!-- Feature Grid -->
            <div class="feature-grid">
                <div class="feature-card glassmorphism hover-lift" onclick="showPage('mood')">
                    <div class="feature-glow"></div>
                    <div class="feature-icon floating">
                        <i class="fas fa-theater-masks"></i>
                    </div>
                    <h3>Mood Tracker</h3>
                    <p>Track your emotions</p>
                    <div class="feature-meta">
                        <span class="last-used">Track now</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>

                <div class="feature-card glassmorphism hover-lift" onclick="showPage('meditation')">
                    <div class="feature-glow"></div>
                    <div class="feature-icon floating">
                        <i class="fas fa-spa"></i>
                    </div>
                    <h3>Guided Meditation</h3>
                    <p>Find your peace</p>
                    <div class="feature-meta">
                        <span class="badge-new">NEW</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>

                <div class="feature-card glassmorphism hover-lift" onclick="showPage('ai-therapist')">
                    <div class="feature-glow"></div>
                    <div class="feature-icon floating">
                        <i class="fas fa-robot"></i>
                    </div>
                    <h3>AI Assistant</h3>
                    <p>24/7 support</p>
                    <div class="feature-meta">
                        <span class="badge-ai">AI Powered</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>

                <div class="feature-card glassmorphism hover-lift" onclick="showPage('breathe')">
                    <div class="feature-glow"></div>
                    <div class="feature-icon floating">
                        <i class="fas fa-wind"></i>
                    </div>
                    <h3>Breathing</h3>
                    <p>Calm your mind</p>
                    <div class="feature-meta">
                        <span class="last-used">Try now</span>
                        <i class="fas fa-arrow-right"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mood Tracker Section -->
    <div class="mood-tracker page-section" id="mood" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">How are you feeling?</h2>
                <p class="page-subtitle">Track your emotional state</p>
            </div>

            <div class="mood-section glassmorphism">
                <div class="mood-options">
                    <div class="mood-btn" onclick="selectMood(1, this)">
                        <span class="mood-emoji">😢</span>
                        <span class="mood-label">Very Sad</span>
                    </div>
                    <div class="mood-btn" onclick="selectMood(2, this)">
                        <span class="mood-emoji">😟</span>
                        <span class="mood-label">Sad</span>
                    </div>
                    <div class="mood-btn" onclick="selectMood(3, this)">
                        <span class="mood-emoji">😐</span>
                        <span class="mood-label">Neutral</span>
                    </div>
                    <div class="mood-btn" onclick="selectMood(4, this)">
                        <span class="mood-emoji">🙂</span>
                        <span class="mood-label">Happy</span>
                    </div>
                    <div class="mood-btn" onclick="selectMood(5, this)">
                        <span class="mood-emoji">😊</span>
                        <span class="mood-label">Very Happy</span>
                    </div>
                </div>

                <div class="mood-factors" id="moodFactors" style="display: none;">
                    <h3>What's influencing your mood?</h3>
                    <div class="factor-chips">
                        <button class="factor-chip" onclick="toggleFactor('Sleep', this)">
                            <i class="fas fa-bed"></i> Sleep
                        </button>
                        <button class="factor-chip" onclick="toggleFactor('Exercise', this)">
                            <i class="fas fa-running"></i> Exercise
                        </button>
                        <button class="factor-chip" onclick="toggleFactor('Diet', this)">
                            <i class="fas fa-apple-alt"></i> Diet
                        </button>
                        <button class="factor-chip" onclick="toggleFactor('Social', this)">
                            <i class="fas fa-users"></i> Social
                        </button>
                        <button class="factor-chip" onclick="toggleFactor('Work', this)">
                            <i class="fas fa-briefcase"></i> Work
                        </button>
                        <button class="factor-chip" onclick="toggleFactor('Weather', this)">
                            <i class="fas fa-cloud-sun"></i> Weather
                        </button>
                    </div>

                    <div class="mood-note">
                        <textarea id="moodNote" placeholder="Add a note about how you're feeling..." rows="4"></textarea>
                    </div>

                    <button class="btn btn-primary save-mood-btn" onclick="saveMood()">
                        <i class="fas fa-save"></i> Save Mood
                    </button>
                </div>
            </div>

            <div class="mood-history glassmorphism">
                <h3>Recent Moods</h3>
                <div id="moodHistory">
                    <p>No mood entries yet. Start tracking!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Breathing Exercise Section -->
    <div class="breathing-exercise page-section" id="breathe" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">Breathing Exercises</h2>
                <p class="page-subtitle">Find your calm</p>
            </div>

            <div class="breathing-techniques" id="breathingTechniques">
                <div class="technique-card glassmorphism" onclick="startBreathing('478')">
                    <div class="technique-icon">🌙</div>
                    <h3>4-7-8 Breathing</h3>
                    <p>For relaxation & sleep</p>
                    <div class="technique-timing">Inhale 4 • Hold 7 • Exhale 8</div>
                </div>

                <div class="technique-card glassmorphism" onclick="startBreathing('box')">
                    <div class="technique-icon">📦</div>
                    <h3>Box Breathing</h3>
                    <p>For focus & calm</p>
                    <div class="technique-timing">Inhale 4 • Hold 4 • Exhale 4 • Hold 4</div>
                </div>

                <div class="technique-card glassmorphism" onclick="startBreathing('calm')">
                    <div class="technique-icon">🌊</div>
                    <h3>Calm Breathing</h3>
                    <p>Quick relaxation</p>
                    <div class="technique-timing">Inhale 3 • Exhale 6</div>
                </div>
            </div>

            <div class="breathing-container glassmorphism" id="breathingContainer" style="display: none;">
                <!-- Breathing exercise will be loaded here -->
            </div>
        </div>
    </div>

    <!-- Journal Section -->
    <div class="journal page-section" id="journal" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">Daily Journal</h2>
                <p class="page-subtitle">Express yourself</p>
            </div>

            <div class="journal-prompt glassmorphism">
                <i class="fas fa-lightbulb"></i>
                <p id="journalPrompt">What are you grateful for today?</p>
            </div>

            <div class="journal-editor glassmorphism">
                <input type="text" id="journalTitle" placeholder="Give your entry a title..." class="journal-title-input">
                <textarea id="journalContent" placeholder="Start writing..." rows="10"></textarea>
                
                <div class="journal-tags">
                    <input type="text" id="journalTag" placeholder="Add a tag..." onkeypress="if(event.key==='Enter'){addTag();event.preventDefault();}">
                    <button onclick="addTag()" class="btn btn-secondary">Add Tag</button>
                </div>
                
                <div id="journalTags" class="tags-display"></div>
                
                <button class="btn btn-primary" onclick="saveJournal()">
                    <i class="fas fa-save"></i> Save Entry
                </button>
            </div>

            <div class="recent-entries glassmorphism">
                <h3>Recent Entries</h3>
                <div id="recentEntries">
                    <p>No entries yet. Start writing!</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Meditation Section -->
    <div class="meditation page-section" id="meditation" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">Meditation Studio</h2>
                <p class="page-subtitle">Find your inner peace</p>
            </div>

            <div class="meditation-grid">
                <div class="meditation-card glassmorphism">
                    <div class="meditation-thumbnail">
                        <img src="https://images.unsplash.com/photo-1506126613408-eca07ce68773?w=300" alt="Morning">
                        <div class="duration-badge">5 min</div>
                    </div>
                    <h4>Morning Energy</h4>
                    <p>Start your day mindfully</p>
                    <button class="play-btn" onclick="startMeditation('morning')">
                        <i class="fas fa-play"></i>
                    </button>
                </div>

                <div class="meditation-card glassmorphism">
                    <div class="meditation-thumbnail">
                        <img src="https://images.unsplash.com/photo-1511295742362-92c96b1cf484?w=300" alt="Sleep">
                        <div class="duration-badge">10 min</div>
                    </div>
                    <h4>Deep Sleep</h4>
                    <p>Drift into peaceful rest</p>
                    <button class="play-btn" onclick="startMeditation('sleep')">
                        <i class="fas fa-play"></i>
                    </button>
                </div>

                <div class="meditation-card glassmorphism">
                    <div class="meditation-thumbnail">
                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=300" alt="Focus">
                        <div class="duration-badge">15 min</div>
                    </div>
                    <h4>Focus & Clarity</h4>
                    <p>Enhance concentration</p>
                    <button class="play-btn" onclick="startMeditation('focus')">
                        <i class="fas fa-play"></i>
                    </button>
                </div>
            </div>

            <div class="meditation-player glassmorphism" id="meditationPlayer" style="display: none;">
                <h3 id="currentMeditationTitle">Meditation</h3>
                <div class="player-visual">
                    <div class="audio-visualizer">
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                        <div class="bar"></div>
                    </div>
                </div>
                <audio id="meditationAudio" style="display: none;"></audio>
                <div class="player-controls">
                    <button onclick="toggleMeditation()">
                        <i class="fas fa-pause" id="meditationPlayPause"></i>
                    </button>
                </div>
                <div class="player-time">
                    <span id="meditationTime">0:00</span> / <span id="meditationDuration">5:00</span>
                </div>
                <button class="btn btn-secondary" onclick="stopMeditation()">Stop</button>
            </div>
        </div>
    </div>

    <!-- Resources Section (Replacing Community) -->
    <div class="resources page-section" id="resources" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">Mental Health Resources</h2>
                <p class="page-subtitle">Help is always available</p>
            </div>

            <div class="resources-grid">
                <div class="resource-card glassmorphism">
                    <div class="resource-icon">
                        <i class="fas fa-phone-alt"></i>
                    </div>
                    <h3>Crisis Hotlines</h3>
                    <div class="resource-content">
                        <p><strong>National Suicide Prevention Lifeline</strong><br>
                        988 or 1-800-273-8255</p>
                        <p><strong>Crisis Text Line</strong><br>
                        Text HOME to 741741</p>
                        <p><strong>NAMI Helpline</strong><br>
                        1-800-950-NAMI (6264)</p>
                    </div>
                </div>

                <div class="resource-card glassmorphism">
                    <div class="resource-icon">
                        <i class="fas fa-book-medical"></i>
                    </div>
                    <h3>Self-Help Guides</h3>
                    <div class="resource-list">
                        <a href="#" onclick="showGuide('anxiety')">
                            <i class="fas fa-chevron-right"></i> Managing Anxiety
                        </a>
                        <a href="#" onclick="showGuide('depression')">
                            <i class="fas fa-chevron-right"></i> Coping with Depression
                        </a>
                        <a href="#" onclick="showGuide('stress')">
                            <i class="fas fa-chevron-right"></i> Stress Reduction
                        </a>
                        <a href="#" onclick="showGuide('sleep')">
                            <i class="fas fa-chevron-right"></i> Better Sleep Habits
                        </a>
                    </div>
                </div>

                <div class="resource-card glassmorphism">
                    <div class="resource-icon">
                        <i class="fas fa-hands-helping"></i>
                    </div>
                    <h3>Find Professional Help</h3>
                    <div class="resource-content">
                        <p>Connect with licensed therapists and counselors in your area.</p>
                        <button class="btn btn-primary" onclick="findTherapist()">
                            <i class="fas fa-search"></i> Find a Therapist
                        </button>
                    </div>
                </div>

                <div class="resource-card glassmorphism">
                    <div class="resource-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Learn & Grow</h3>
                    <div class="course-list">
                        <div class="course-item">
                            <h4>Mindfulness Basics</h4>
                            <p>Learn fundamental mindfulness techniques</p>
                            <div class="progress-bar-container">
                                <div class="progress-bar" style="width: 35%;"></div>
                            </div>
                        </div>
                        <div class="course-item">
                            <h4>Emotional Regulation</h4>
                            <p>Master your emotional responses</p>
                            <div class="progress-bar-container">
                                <div class="progress-bar" style="width: 0%;"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="emergency-banner glassmorphism">
                <i class="fas fa-exclamation-triangle"></i>
                <div>
                    <h4>If you're in immediate danger</h4>
                    <p>Please call 911 or go to your nearest emergency room</p>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Therapist Section -->
    <div class="ai-therapist page-section" id="ai-therapist" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">AI Mental Health Assistant</h2>
                <p class="page-subtitle">I'm here to listen and support you</p>
            </div>

            <div class="chat-container glassmorphism">
                <div class="chat-messages" id="chatMessages">
                    <div class="message ai-message">
                        <div class="message-avatar">
                            <i class="fas fa-robot"></i>
                        </div>
                        <div class="message-content">
                            <p>Hello! I'm MindfulMe AI, your mental health support assistant. I'm here to listen, provide coping strategies, and support you. How are you feeling today?</p>
                        </div>
                    </div>
                </div>

                <div class="chat-input-container">
                    <textarea id="chatInput" placeholder="Type your message..." rows="1" onkeypress="if(event.key==='Enter' && !event.shiftKey){sendMessage();event.preventDefault();}"></textarea>
                    <button class="send-btn" onclick="sendMessage()">
                        <i class="fas fa-paper-plane"></i>
                    </button>
                </div>
            </div>

            <div class="ai-disclaimer glassmorphism">
                <i class="fas fa-info-circle"></i>
                <p>This AI provides support but is not a replacement for professional help. If you're in crisis, please contact emergency services or call 988.</p>
            </div>
        </div>
    </div>

    <!-- Analytics/Insights Section -->
    <div class="insights page-section" id="insights" style="display: none;">
        <div class="container">
            <div class="page-header">
                <h2 class="page-title">Your Insights</h2>
                <p class="page-subtitle">Understand your patterns</p>
            </div>

            <div class="analytics-grid">
                <div class="analytics-card glassmorphism">
                    <h3>Mood Trends</h3>
                    <canvas id="moodTrendsChart"></canvas>
                </div>

                <div class="analytics-card glassmorphism">
                    <h3>Weekly Activity</h3>
                    <canvas id="activityChart"></canvas>
                </div>

                <div class="analytics-card glassmorphism">
                    <h3>Top Mood Factors</h3>
                    <div id="moodFactorsAnalytics">
                        <p>Track more moods to see patterns</p>
                    </div>
                </div>

                <div class="analytics-card glassmorphism">
                    <h3>Wellness Score</h3>
                    <div class="wellness-score-display">
                        <div class="score-circle">
                            <span class="score-value" id="wellnessScore">82</span>
                            <span class="score-label">Good</span>
                        </div>
                        <p class="score-description">Based on your recent activity and mood patterns</p>
                    </div>
                </div>
            </div>

            <div class="insights-summary glassmorphism">
                <h3>Key Insights</h3>
                <div id="keyInsights">
                    <div class="insight-item">
                        <i class="fas fa-lightbulb"></i>
                        <p>Your mood tends to improve after breathing exercises</p>
                    </div>
                    <div class="insight-item">
                        <i class="fas fa-chart-line"></i>
                        <p>You're most productive in the morning hours</p>
                    </div>
                    <div class="insight-item">
                        <i class="fas fa-moon"></i>
                        <p>Better sleep correlates with higher mood scores</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner">
            <div class="spinner"></div>
            <p>Loading...</p>
        </div>
    </div>

    <!-- Message Toast -->
    <div class="message-toast" id="messageToast"></div>

    <script src="js/app.js"></script>
</body>
</html>
